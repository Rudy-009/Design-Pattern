# Singleton
> 클래스에 하나의 인스턴스에 대해 전역 접근​(액세스) 지점을 제공하는 생성 디자인 패턴

# 특징
- 하나의 인스턴스만 갖는다.

## (문제) 단일 책임 원칙을 위반한다. 한 번에 두 가지 문제를 해결하기 때문에
- (해결) 생성자를 비공개 처라한다. => 객체 생성을 막는다.
- (해결) 생성자 역할을 하는 정적 메서드를 만든다.

## (문제) 멀티 쓰레드 환경에서 덮어씌우기 등 문제가 발생할 수 있다.
- (해결) Locking 기법을 통해 해결할 수 있다.

Swift에서는

1. 멀티 쓰레드 환경에서는 static let을 이용해서 여러 쓰레드에서도 동일한 Singleton 인스턴스에 접근할 수 있다.
```swift
static let shared = Singleton()
```
2. 프로퍼티 접근에 대해 멀티 쓰레드와 관련한 문제가 발생할 수 있다. 프로퍼티에 대한 동시적 접근이 일어나면 덮어쓰기와 같은 문제가 발생할 수 있다.

- `DispatchQueue`의 `.concurrent`를 통해 동시적 읽기를 허용
- `Barrier`을 통해 쓰기에는 제한을 둠


